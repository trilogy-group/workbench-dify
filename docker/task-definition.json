{
    "containerDefinitions": [
        {
            "environment": [
                {
                    "name": "MODE",
                    "value": "api"
                },
                {
                    "name": "ENG_ASE_API_KEY",
                    "value": ""
                },
                {
                    "name": "LOG_LEVEL",
                    "value": "INFO"
                },
                {
                    "name": "SECRET_KEY",
                    "value": "sk-9f73s3ljTXVcMT3Blb3ljTqtsKiGHXVcMT3BlbkFJLK7U"
                },
                {
                    "name": "CONSOLE_WEB_URL",
                    "value": ""
                },
                {
                    "name": "INIT_PASSWORD",
                    "value": ""
                },
                {
                    "name": "CONSOLE_API_URL",
                    "value": ""
                },
                {
                    "name": "SERVICE_API_URL",
                    "value": ""
                },
                {
                    "name": "APP_WEB_URL",
                    "value": ""
                },
                {
                    "name": "FILES_URL",
                    "value": ""
                },
                {
                    "name": "MIGRATION_ENABLED",
                    "value": "true"
                },
                {
                    "name": "DB_USERNAME",
                    "value": "postgres"
                },
                {
                    "name": "DB_PASSWORD",
                    "value": "difyai123456"
                },
                {
                    "name": "DB_HOST",
                    "value": "db"
                },
                {
                    "name": "DB_PORT",
                    "value": "5432"
                },
                {
                    "name": "DB_DATABASE",
                    "value": "dify"
                },
                {
                    "name": "REDIS_HOST",
                    "value": "redis"
                },
                {
                    "name": "REDIS_PORT",
                    "value": "6379"
                },
                {
                    "name": "REDIS_USERNAME",
                    "value": ""
                },
                {
                    "name": "REDIS_PASSWORD",
                    "value": "difyai123456"
                },
                {
                    "name": "REDIS_USE_SSL",
                    "value": "false"
                },
                {
                    "name": "REDIS_DB",
                    "value": "0"
                },
                {
                    "name": "CELERY_BROKER_URL",
                    "value": "redis://:difyai123456@redis:6379/1"
                },
                {
                    "name": "WEB_API_CORS_ALLOW_ORIGINS",
                    "value": "*"
                },
                {
                    "name": "CONSOLE_CORS_ALLOW_ORIGINS",
                    "value": "*"
                },
                {
                    "name": "STORAGE_TYPE",
                    "value": "local"
                },
                {
                    "name": "STORAGE_LOCAL_PATH",
                    "value": "storage"
                },
                {
                    "name": "S3_ENDPOINT",
                    "value": "https://xxx.r2.cloudflarestorage.com"
                },
                {
                    "name": "S3_BUCKET_NAME",
                    "value": "difyai"
                },
                {
                    "name": "S3_ACCESS_KEY",
                    "value": "ak-difyai"
                },
                {
                    "name": "S3_SECRET_KEY",
                    "value": "sk-difyai"
                },
                {
                    "name": "S3_REGION",
                    "value": "us-east-1"
                },
                {
                    "name": "AZURE_BLOB_ACCOUNT_NAME",
                    "value": "difyai"
                },
                {
                    "name": "AZURE_BLOB_ACCOUNT_KEY",
                    "value": "difyai"
                },
                {
                    "name": "AZURE_BLOB_CONTAINER_NAME",
                    "value": "difyai-container"
                },
                {
                    "name": "AZURE_BLOB_ACCOUNT_URL",
                    "value": "https://<your_account_name>.blob.core.windows.net"
                },
                {
                    "name": "GOOGLE_STORAGE_BUCKET_NAME",
                    "value": "yout-bucket-name"
                },
                {
                    "name": "GOOGLE_STORAGE_SERVICE_ACCOUNT_JSON_BASE64",
                    "value": "your-google-service-account-json-base64-string"
                },
                {
                    "name": "VECTOR_STORE",
                    "value": "weaviate"
                },
                {
                    "name": "WEAVIATE_ENDPOINT",
                    "value": "http://weaviate:8080"
                },
                {
                    "name": "WEAVIATE_API_KEY",
                    "value": "WVF5YThaHlkYwhGUSmCRgsX3tD5ngdN8pkih"
                },
                {
                    "name": "QDRANT_URL",
                    "value": "http://qdrant:6333"
                },
                {
                    "name": "QDRANT_API_KEY",
                    "value": "difyai123456"
                },
                {
                    "name": "QDRANT_CLIENT_TIMEOUT",
                    "value": "20"
                },
                {
                    "name": "QDRANT_GRPC_ENABLED",
                    "value": "false"
                },
                {
                    "name": "QDRANT_GRPC_PORT",
                    "value": "6334"
                },
                {
                    "name": "MILVUS_HOST",
                    "value": "127.0.0.1"
                },
                {
                    "name": "MILVUS_PORT",
                    "value": "19530"
                },
                {
                    "name": "MILVUS_USER",
                    "value": "root"
                },
                {
                    "name": "MILVUS_PASSWORD",
                    "value": "Milvus"
                },
                {
                    "name": "MILVUS_SECURE",
                    "value": "false"
                },
                {
                    "name": "RELYT_HOST",
                    "value": "db"
                },
                {
                    "name": "RELYT_PORT",
                    "value": "5432"
                },
                {
                    "name": "RELYT_USER",
                    "value": "postgres"
                },
                {
                    "name": "RELYT_PASSWORD",
                    "value": "difyai123456"
                },
                {
                    "name": "RELYT_DATABASE",
                    "value": "postgres"
                },
                {
                    "name": "MAIL_TYPE",
                    "value": ""
                },
                {
                    "name": "MAIL_DEFAULT_SEND_FROM",
                    "value": "YOUR EMAIL FROM (eg: no-reply <no-reply@dify.ai>)"
                },
                {
                    "name": "SMTP_SERVER",
                    "value": ""
                },
                {
                    "name": "SMTP_PORT",
                    "value": "587"
                },
                {
                    "name": "SMTP_USERNAME",
                    "value": ""
                },
                {
                    "name": "SMTP_PASSWORD",
                    "value": ""
                },
                {
                    "name": "SMTP_USE_TLS",
                    "value": "true"
                },
                {
                    "name": "RESEND_API_KEY",
                    "value": ""
                },
                {
                    "name": "RESEND_API_URL",
                    "value": "https://api.resend.com"
                },
                {
                    "name": "SENTRY_DSN",
                    "value": ""
                },
                {
                    "name": "SENTRY_TRACES_SAMPLE_RATE",
                    "value": "1.0"
                },
                {
                    "name": "SENTRY_PROFILES_SAMPLE_RATE",
                    "value": "1.0"
                },
                {
                    "name": "NOTION_INTEGRATION_TYPE",
                    "value": "public"
                },
                {
                    "name": "NOTION_CLIENT_SECRET",
                    "value": "you-client-secret"
                },
                {
                    "name": "NOTION_CLIENT_ID",
                    "value": "you-client-id"
                },
                {
                    "name": "NOTION_INTERNAL_SECRET",
                    "value": "you-internal-secret"
                },
                {
                    "name": "CODE_EXECUTION_ENDPOINT",
                    "value": "http://sandbox:8194"
                },
                {
                    "name": "CODE_EXECUTION_API_KEY",
                    "value": "dify-sandbox"
                },
                {
                    "name": "CODE_MAX_NUMBER",
                    "value": "9223372036854775807"
                },
                {
                    "name": "CODE_MIN_NUMBER",
                    "value": "-9223372036854775808"
                },
                {
                    "name": "CODE_MAX_STRING_LENGTH",
                    "value": "80000"
                },
                {
                    "name": "TEMPLATE_TRANSFORM_MAX_LENGTH",
                    "value": "80000"
                },
                {
                    "name": "CODE_MAX_STRING_ARRAY_LENGTH",
                    "value": "30"
                },
                {
                    "name": "CODE_MAX_OBJECT_ARRAY_LENGTH",
                    "value": "30"
                },
                {
                    "name": "CODE_MAX_NUMBER_ARRAY_LENGTH",
                    "value": "1000"
                }
            ],
            "essential": true,
            "name": "api",
            "memory": 1024,
            "image": "346945241475.dkr.ecr.us-east-1.amazonaws.com/api:api1"
        },
        {
            "environment": [
                {
                    "name": "PGUSER",
                    "value": "postgres"
                },
                {
                    "name": "POSTGRES_PASSWORD",
                    "value": "difyai123456"
                },
                {
                    "name": "POSTGRES_DB",
                    "value": "dify"
                },
                {
                    "name": "PGDATA",
                    "value": "/var/lib/postgresql/data/pgdata"
                }
            ],
            "essential": true,
            "image": "postgres:15-alpine",
            "name": "db",
            "memory": 512
        },
        {
            "essential": true,
            "image": "nginx:latest",
            "name": "nginx",
            "memory": 512,
            "portMappings": [
                {
                    "containerPort": 80,
                    "hostPort": 80
                }
            ]
        },
        {
            "command": [
                "redis-server",
                "--requirepass",
                "difyai123456"
            ],
            "essential": true,
            "image": "redis:6-alpine",
            "memory": 512,
            "name": "redis"
        },
        {
            "environment": [
                {
                    "name": "API_KEY",
                    "value": "dify-sandbox"
                },
                {
                    "name": "GIN_MODE",
                    "value": "release"
                },
                {
                    "name": "WORKER_TIMEOUT",
                    "value": "15"
                }
            ],
            "essential": true,
            "image": "langgenius/dify-sandbox:0.1.0",
            "memory": 512,
            "name": "sandbox"
        },
        {
            "environment": [
                {
                    "name": "QUERY_DEFAULTS_LIMIT",
                    "value": "25"
                },
                {
                    "name": "AUTHENTICATION_ANONYMOUS_ACCESS_ENABLED",
                    "value": "false"
                },
                {
                    "name": "PERSISTENCE_DATA_PATH",
                    "value": "/var/lib/weaviate"
                },
                {
                    "name": "DEFAULT_VECTORIZER_MODULE",
                    "value": "none"
                },
                {
                    "name": "CLUSTER_HOSTNAME",
                    "value": "node1"
                },
                {
                    "name": "AUTHENTICATION_APIKEY_ENABLED",
                    "value": "true"
                },
                {
                    "name": "AUTHENTICATION_APIKEY_ALLOWED_KEYS",
                    "value": "WVF5YThaHlkYwhGUSmCRgsX3tD5ngdN8pkih"
                },
                {
                    "name": "AUTHENTICATION_APIKEY_USERS",
                    "value": "hello@dify.ai"
                },
                {
                    "name": "AUTHORIZATION_ADMINLIST_ENABLED",
                    "value": "true"
                },
                {
                    "name": "AUTHORIZATION_ADMINLIST_USERS",
                    "value": "hello@dify.ai"
                }
            ],
            "essential": true,
            "image": "semitechnologies/weaviate:1.19.0",
            "name": "weaviate",
            "memory": 512
        },
        {
            "environment": [
                {
                    "name": "CONSOLE_API_URL",
                    "value": ""
                },
                {
                    "name": "APP_API_URL",
                    "value": ""
                },
                {
                    "name": "SENTRY_DSN",
                    "value": ""
                }
            ],
            "essential": true,
            "image": "346945241475.dkr.ecr.us-east-1.amazonaws.com/dify.web:web1",
            "name": "web",
            "memory": 512
        },
        {
            "environment": [
                {
                    "name": "MODE",
                    "value": "worker"
                },
                {
                    "name": "LOG_LEVEL",
                    "value": "INFO"
                },
                {
                    "name": "SECRET_KEY",
                    "value": "sk-9f73s3ljTXVcMT3Blb3ljTqtsKiGHXVcMT3BlbkFJLK7U"
                },
                {
                    "name": "DB_USERNAME",
                    "value": "postgres"
                },
                {
                    "name": "DB_PASSWORD",
                    "value": "difyai123456"
                },
                {
                    "name": "DB_HOST",
                    "value": "db"
                },
                {
                    "name": "DB_PORT",
                    "value": "5432"
                },
                {
                    "name": "DB_DATABASE",
                    "value": "dify"
                },
                {
                    "name": "REDIS_HOST",
                    "value": "redis"
                },
                {
                    "name": "REDIS_PORT",
                    "value": "6379"
                },
                {
                    "name": "REDIS_USERNAME",
                    "value": ""
                },
                {
                    "name": "REDIS_PASSWORD",
                    "value": "difyai123456"
                },
                {
                    "name": "REDIS_DB",
                    "value": "0"
                },
                {
                    "name": "REDIS_USE_SSL",
                    "value": "false"
                },
                {
                    "name": "CELERY_BROKER_URL",
                    "value": "redis://:difyai123456@redis:6379/1"
                },
                {
                    "name": "STORAGE_TYPE",
                    "value": "local"
                },
                {
                    "name": "STORAGE_LOCAL_PATH",
                    "value": "storage"
                },
                {
                    "name": "S3_ENDPOINT",
                    "value": "https://xxx.r2.cloudflarestorage.com"
                },
                {
                    "name": "S3_BUCKET_NAME",
                    "value": "difyai"
                },
                {
                    "name": "S3_ACCESS_KEY",
                    "value": "ak-difyai"
                },
                {
                    "name": "S3_SECRET_KEY",
                    "value": "sk-difyai"
                },
                {
                    "name": "S3_REGION",
                    "value": "us-east-1"
                },
                {
                    "name": "AZURE_BLOB_ACCOUNT_NAME",
                    "value": "difyai"
                },
                {
                    "name": "AZURE_BLOB_ACCOUNT_KEY",
                    "value": "difyai"
                },
                {
                    "name": "AZURE_BLOB_CONTAINER_NAME",
                    "value": "difyai-container"
                },
                {
                    "name": "AZURE_BLOB_ACCOUNT_URL",
                    "value": "https://<your_account_name>.blob.core.windows.net"
                },
                {
                    "name": "VECTOR_STORE",
                    "value": "weaviate"
                },
                {
                    "name": "WEAVIATE_ENDPOINT",
                    "value": "http://weaviate:8080"
                },
                {
                    "name": "WEAVIATE_API_KEY",
                    "value": "WVF5YThaHlkYwhGUSmCRgsX3tD5ngdN8pkih"
                },
                {
                    "name": "QDRANT_URL",
                    "value": "http://qdrant:6333"
                },
                {
                    "name": "QDRANT_API_KEY",
                    "value": "difyai123456"
                },
                {
                    "name": "QDRANT_CLIENT_TIMEOUT",
                    "value": "20"
                },
                {
                    "name": "QDRANT_GRPC_ENABLED",
                    "value": "false"
                },
                {
                    "name": "QDRANT_GRPC_PORT",
                    "value": "6334"
                },
                {
                    "name": "MILVUS_HOST",
                    "value": "127.0.0.1"
                },
                {
                    "name": "MILVUS_PORT",
                    "value": "19530"
                },
                {
                    "name": "MILVUS_USER",
                    "value": "root"
                },
                {
                    "name": "MILVUS_PASSWORD",
                    "value": "Milvus"
                },
                {
                    "name": "MILVUS_SECURE",
                    "value": "false"
                },
                {
                    "name": "MAIL_TYPE",
                    "value": ""
                },
                {
                    "name": "MAIL_DEFAULT_SEND_FROM",
                    "value": "YOUR EMAIL FROM (eg: no-reply <no-reply@dify.ai>)"
                },
                {
                    "name": "RESEND_API_KEY",
                    "value": ""
                },
                {
                    "name": "RESEND_API_URL",
                    "value": "https://api.resend.com"
                },
                {
                    "name": "RELYT_HOST",
                    "value": "db"
                },
                {
                    "name": "RELYT_PORT",
                    "value": "5432"
                },
                {
                    "name": "RELYT_USER",
                    "value": "postgres"
                },
                {
                    "name": "RELYT_PASSWORD",
                    "value": "difyai123456"
                },
                {
                    "name": "RELYT_DATABASE",
                    "value": "postgres"
                },
                {
                    "name": "NOTION_INTEGRATION_TYPE",
                    "value": "public"
                },
                {
                    "name": "NOTION_CLIENT_SECRET",
                    "value": "you-client-secret"
                },
                {
                    "name": "NOTION_CLIENT_ID",
                    "value": "you-client-id"
                },
                {
                    "name": "NOTION_INTERNAL_SECRET",
                    "value": "you-internal-secret"
                }
            ],
            "essential": true,
            "image": "langgenius/dify-api:0.6.5",
            "name": "worker",
            "memory": 512
        }
    ],
    "family": "workbench-dify",
    "executionRoleArn": "arn:aws:iam::346945241475:role/workbench-dify",
    "requiresCompatibilities": ["FARGATE"],
    "networkMode": "awsvpc",
    "cpu": "1024",
    "memory": "2048"
}